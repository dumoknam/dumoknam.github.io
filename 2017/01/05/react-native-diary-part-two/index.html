<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>React Native 일기장 앱 개발 (1) - 글쓰기 버튼 · Anything</title><meta name="description" content="React Native 일기장 앱 개발 (1) - 글쓰기 버튼 - Dumok Nam"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/gandalfr.css"><link rel="stylesheet" href="https://highlightjs.org/static/demo/styles/solarized-light.css"><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="Anything"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="https://avatars2.githubusercontent.com/u/2771223?v=3&amp;s=460" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/dumoknam" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">React Native 일기장 앱 개발 (1) - 글쓰기 버튼 <a href="https://github.com/dumoknam/hexo_posts/edit/master/react-native-diary-part-two.md"><i class="fa fa-pencil-square"></i></a></h1><div class="tags"><a href="/tags/React-Native/" class="tag-title">#React Native</a><a href="/tags/App/" class="tag-title">#App</a></div><div class="post-info">Jan 5, 2017</div><div class="post-content"><p>일기장 앱을 어떻게 만들지 그려보고, 글쓰기 버튼을 달아보자.</p>
<a id="more"></a>
<p><strong>이미지를 클라우드를 쓰다가 직접 올리는 방법으로 바꿨는데 블로그 옮기다가 날려먹었다.. 일기장 포스팅 스크린샷은 없다</strong></p>
<h2 id="목업"><a href="#목업" class="headerlink" title="목업"></a>목업</h2><p>일기장 앱의 일기 리스트의 목업은 이렇다</p>
<p><strong>이미지 없음</strong> <!--![diary_mockup](Diary.png)--></p>
<p>제일 위에 연도와 월(2017-01)이 타이틀로 있고, 일기 내용이 리스트로 쭉 이어지는 형태이다.<br>오른쪽 하단에는 <strong>글쓰기 버튼 +</strong>이 있다.<br>일단 이 글쓰기 버튼부터 달아보자.</p>
<h2 id="글쓰기-버튼-달기"><a href="#글쓰기-버튼-달기" class="headerlink" title="글쓰기 버튼 달기"></a>글쓰기 버튼 달기</h2><h3 id="Diary-프로젝트-생성"><a href="#Diary-프로젝트-생성" class="headerlink" title="Diary 프로젝트 생성"></a>Diary 프로젝트 생성</h3><p><code>react-native init Diary</code> 명령어로 프로젝트를 생성하자.<br><strong>이미지 없음</strong> <!--![diary_init](0104_01_init.png)--></p>
<p>이번 포스팅은 자동 생성된 코드에 버튼만 추가하겠다.</p>
<blockquote>
<p><a href="http://nativebase.io" target="_blank" rel="external">NativeBase</a>나 <a href="https://github.com/mastermoo/react-native-action-button" target="_blank" rel="external">react-native-action-button</a>같은 컴포넌트를 활용해도 좋다.</p>
</blockquote>
<p>완성된 버튼은 이런 모양이다.<br><strong>이미지 없음</strong> <!--![write_button_fin](0105_01_write_button_fin.png)--></p>
<p>네이비색 동그란 버튼에 그림자 효과가있고 흰 글씨로 + 가 써있다.<br>누르면 글쓰는 팝업이 떠야 하는데 그 기능은 다른 포스팅에서…</p>
<h3 id="WriteButton-컴포넌트-파일-생성"><a href="#WriteButton-컴포넌트-파일-생성" class="headerlink" title="WriteButton 컴포넌트 파일 생성"></a>WriteButton 컴포넌트 파일 생성</h3><p>앞으로 생성할 컴포넌트 파일들은 src/components 디렉토리에 두겠다.<br>우선 디렉토리를 만들고<br><code>mkdir -p src/components</code></p>
<p>글쓰기 버튼 컴포넌트를 작성할 파일을 생성하자.<br><code>touch src/components/WriteButton.js</code></p>
<p>이런 구조가 된다<br><strong>이미지 없음</strong> <!--![touch_file](0105_02_touch_file.png)--></p>
<p>에디터로 파일을 열어서 주석에 이름부터 써두자</p>
<figure class="highlight javascript"><figcaption><span>src/components/WriteButton.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* WriteButton Component - dumok */</span></div></pre></td></tr></table></figure>
<p>버튼 Class 를 만들자.<br>React Native <a href="https://facebook.github.io/react-native/docs/getting-started.html" target="_blank" rel="external">문서</a>의 Components를 보면 <a href="https://facebook.github.io/react-native/docs/button.html" target="_blank" rel="external">Button</a> 컴포넌트가 있지만, 커스터마이징이 적게 되니 마음에 안들면 <a href="https://facebook.github.io/react-native/docs/touchableopacity.html" target="_blank" rel="external">TouchableOpacity</a>를 사용하라고 되어 있다. TouchableOpacity를 써보자. (<a href="https://facebook.github.io/react-native/docs/touchablehighlight.html" target="_blank" rel="external">TouchableHighlight</a> 컴포넌트를 사용해도 된다.)</p>
<p>WriteButton.js 파일에 TouchableOpacity를 불러오도록 하자.</p>
<figure class="highlight javascript"><figcaption><span>src/components/WriteButton.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* WriteButton Component - dumok */</span></div><div class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">import</span> &#123;</div><div class="line">  TouchableOpacity</div><div class="line">&#125; <span class="keyword">from</span> <span class="string">'react-native'</span>;</div></pre></td></tr></table></figure>
<p>그리고 WriteButton 컴포넌트 클래스를 만들자.</p>
<figure class="highlight javascript"><figcaption><span>src/components/WriteButton.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* WriteButton Component - dumok */</span></div><div class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">import</span> &#123;</div><div class="line">  TouchableOpacity</div><div class="line">&#125; <span class="keyword">from</span> <span class="string">'react-native'</span>;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">WriteButton</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;TouchableOpacity&gt;</div><div class="line">      &lt;/TouchableOpacity&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>버튼의 + 는 이미지가 아니라 텍스트로 표현할 것이다.<br>Text 컴포넌트를 import, render에 추가하자.<br><figure class="highlight javascript"><figcaption><span>src/components/WriteButton.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* WriteButton Component - dumok */</span></div><div class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">import</span> &#123;</div><div class="line">  Text,</div><div class="line">  TouchableOpacity</div><div class="line">&#125; <span class="keyword">from</span> <span class="string">'react-native'</span>;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">WriteButton</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;TouchableOpacity&gt;</div><div class="line">      	&lt;Text&gt;+&lt;/Text&gt;</div><div class="line">      &lt;/TouchableOpacity&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h3 id="메인에서-WriteButton-컴포넌트-불러오기"><a href="#메인에서-WriteButton-컴포넌트-불러오기" class="headerlink" title="메인에서 WriteButton 컴포넌트 불러오기"></a>메인에서 WriteButton 컴포넌트 불러오기</h3><p>WriteButton 컴포넌트를 그려보자.</p>
<p><code>index.ios.js</code> 파일을 열어서<br>14라인 <code>import WriteButton from &#39;.src/components/WriteButton&#39;;</code> 과<br>30라인 <code>&lt;WriteButton /&gt;</code> 두 줄을 추가하자.<br><figure class="highlight javascript"><figcaption><span>index.ios.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Sample React Native App</div><div class="line"> * https://github.com/facebook/react-native</div><div class="line"> * @flow</div><div class="line"> */</div><div class="line"></div><div class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">import</span> &#123;</div><div class="line">  AppRegistry,</div><div class="line">  StyleSheet,</div><div class="line">  Text,</div><div class="line">  View</div><div class="line">&#125; <span class="keyword">from</span> <span class="string">'react-native'</span>;</div><div class="line"><span class="keyword">import</span> WriteButton <span class="keyword">from</span> <span class="string">'./src/components/WriteButton'</span>;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Diary</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;View style=&#123;styles.container&#125;&gt;</div><div class="line">        &lt;Text style=&#123;styles.welcome&#125;&gt;</div><div class="line">          Welcome to React Native!</div><div class="line">        &lt;/Text&gt;</div><div class="line">        &lt;Text style=&#123;styles.instructions&#125;&gt;</div><div class="line">          To get started, edit index.ios.js</div><div class="line">        &lt;/Text&gt;</div><div class="line">        &lt;Text style=&#123;styles.instructions&#125;&gt;</div><div class="line">          Press Cmd+R to reload,&#123;'\n'&#125;</div><div class="line">          Cmd+D or shake for dev menu</div><div class="line">        &lt;/Text&gt;</div><div class="line">        &lt;WriteButton /&gt;</div><div class="line">      &lt;/View&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> styles = StyleSheet.create(&#123;</div><div class="line">  <span class="attr">container</span>: &#123;</div><div class="line">    <span class="attr">flex</span>: <span class="number">1</span>,</div><div class="line">    <span class="attr">justifyContent</span>: <span class="string">'center'</span>,</div><div class="line">    <span class="attr">alignItems</span>: <span class="string">'center'</span>,</div><div class="line">    <span class="attr">backgroundColor</span>: <span class="string">'#F5FCFF'</span>,</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">welcome</span>: &#123;</div><div class="line">    <span class="attr">fontSize</span>: <span class="number">20</span>,</div><div class="line">    <span class="attr">textAlign</span>: <span class="string">'center'</span>,</div><div class="line">    <span class="attr">margin</span>: <span class="number">10</span>,</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">instructions</span>: &#123;</div><div class="line">    <span class="attr">textAlign</span>: <span class="string">'center'</span>,</div><div class="line">    <span class="attr">color</span>: <span class="string">'#333333'</span>,</div><div class="line">    <span class="attr">marginBottom</span>: <span class="number">5</span>,</div><div class="line">  &#125;,</div><div class="line">&#125;);</div><div class="line"></div><div class="line">AppRegistry.registerComponent(<span class="string">'Diary'</span>, () =&gt; Diary);</div></pre></td></tr></table></figure></p>
<p>이제 <code>react-native run-ios</code>로 시뮬레이터를 실행해보면,<br>+가 보인다!</p>
<blockquote>
<p>파일을 수정하고 매번 run-ios를 할 필요는 없다. 시뮬레이터는 처음 한번만 실행하고, 파일을 수정한 뒤 시뮬레이터에서 Cmd + R 키를 눌러 새로고침 하면 바꾼 내용을 확인할 수 있다.</p>
</blockquote>
<p><strong>이미지 없음</strong> <!--![write_button_01](0105_03_write_button_01.png)--></p>
<p>이제 이 버튼을 꾸며보자.</p>
<h3 id="StyleSheet-생성하기"><a href="#StyleSheet-생성하기" class="headerlink" title="StyleSheet 생성하기"></a>StyleSheet 생성하기</h3><p><code>index.ios.js</code> 파일에서도 볼 수 있듯이,<br>스타일을 지정할 때에는 StyleSheet라는 컴포넌트를 사용하면 된다.(웹의 css와 동일한 역할이다)</p>
<p>우선 StyleSheet 컴포넌트를 import 한다.<br><code>TouchableOpacity</code>,<code>Text</code>를 import한 구문 아래에 <code>StyleSheet</code>를 추가하자.</p>
<p>StyleSheet에는 두 종류의 스타일 정의가 필요하다.</p>
<ol>
<li>버튼의 + 글자 스타일 (writeButtonText)</li>
<li>버튼 스타일(writeButton)</li>
</ol>
<h4 id="writeButtonText-Style"><a href="#writeButtonText-Style" class="headerlink" title="writeButtonText Style"></a>writeButtonText Style</h4><p>버튼의 + 텍스트는 흰 색깔과 폰트 크기만 지정하면 된다.</p>
<ul>
<li>fontSize: 25</li>
<li>color: ‘white’</li>
</ul>
<h4 id="writeButton-Style"><a href="#writeButton-Style" class="headerlink" title="writeButton Style"></a>writeButton Style</h4><p>버튼에 적용될 스타일은 조금 많은데 종류별로 살펴보면,</p>
<p>버튼은 일단 남색이어야 하고,</p>
<ul>
<li>backgroundColor: ‘#001f3f’</li>
<li>borderColor: ‘#001f3f’</li>
</ul>
<p>적당한 크기에 원 형태(borderRadius가 50%)를 가져야 하며,</p>
<ul>
<li>height: 50</li>
<li>width: 50</li>
<li>borderRadius: 25</li>
</ul>
<p>버튼의 위치는 다른 컴포넌트에 독립적인 절대경로로, 화면 오른쪽 하단에 위치한다.</p>
<ul>
<li>position: ‘absolute’</li>
<li>bottom: 25</li>
<li>right: 25</li>
</ul>
<p>버튼의 텍스트는 가운데 정렬</p>
<ul>
<li>alignItems: ‘center’</li>
<li>justifyContent: ‘center’</li>
</ul>
<p>마지막으로 <strong>아래 방향 그림자 효과</strong>를 주어서 버튼이 떠있는 것처럼 보이게 한다</p>
<ul>
<li>shadowColor: ‘#000000’</li>
<li>shadowOpacity: 0.8</li>
<li>shadowRadius: 2</li>
<li>shadowOffset: {  height: 1,  width: 0, }</li>
</ul>
<p>추가된 스타일 코드를 다 합치면 아래와 같다.<br><figure class="highlight javascript"><figcaption><span>src/components/WriteButton.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ...기존코드 생략...</span></div><div class="line"><span class="keyword">import</span> &#123;</div><div class="line">  Text,</div><div class="line">  TouchableOpacity,</div><div class="line">  StyleSheet</div><div class="line">&#125; <span class="keyword">from</span> <span class="string">'react-native'</span>;</div><div class="line"><span class="comment">// ...기존코드 생략...</span></div><div class="line"><span class="keyword">const</span> styles = StyleSheet.create(&#123;</div><div class="line">  <span class="attr">writeButton</span>: &#123;</div><div class="line">    <span class="attr">backgroundColor</span>: <span class="string">'#001f3f'</span>,</div><div class="line">    <span class="attr">borderColor</span>: <span class="string">'#001f3f'</span>,</div><div class="line">    <span class="attr">height</span>: <span class="number">50</span>,</div><div class="line">    <span class="attr">width</span>: <span class="number">50</span>,</div><div class="line">    <span class="attr">borderRadius</span>: <span class="number">25</span>,</div><div class="line">    <span class="attr">alignItems</span>: <span class="string">'center'</span>,</div><div class="line">    <span class="attr">justifyContent</span>: <span class="string">'center'</span>,</div><div class="line">    <span class="attr">position</span>: <span class="string">'absolute'</span>,</div><div class="line">    <span class="attr">bottom</span>: <span class="number">25</span>,</div><div class="line">    <span class="attr">right</span>: <span class="number">25</span>,</div><div class="line">    <span class="attr">shadowColor</span>: <span class="string">'#000000'</span>,</div><div class="line">    <span class="attr">shadowOpacity</span>: <span class="number">0.8</span>,</div><div class="line">    <span class="attr">shadowRadius</span>: <span class="number">2</span>,</div><div class="line">    <span class="attr">shadowOffset</span>: &#123;</div><div class="line">      <span class="attr">height</span>: <span class="number">1</span>,</div><div class="line">      <span class="attr">width</span>: <span class="number">0</span>,</div><div class="line">    &#125;,</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">writeButtonText</span>: &#123;</div><div class="line">    <span class="attr">fontSize</span>: <span class="number">25</span>,</div><div class="line">    <span class="attr">color</span>: <span class="string">'white'</span></div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h3 id="StyleSheet-적용하기"><a href="#StyleSheet-적용하기" class="headerlink" title="StyleSheet 적용하기"></a>StyleSheet 적용하기</h3><p>생성한 styles를 적용하려면 컴포넌트마다 style prop에 적용할 스타일을 지정해야 한다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;TouchableOpacity&gt;</div><div class="line">&lt;Text&gt;</div></pre></td></tr></table></figure>
<p>에 각각<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;TouchableOpacity style=&#123;styles.writeButton&#125;&gt;</div><div class="line">&lt;Text style=&#123;styles.writeButtonText&#125;&gt;</div></pre></td></tr></table></figure></p>
<p>style prop을 지정하면 된다.</p>
<p>여기까지 작성된 코드는 이렇다.<br><figure class="highlight javascript"><figcaption><span>src/components/WriteButton.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* WriteButton Component - dumok */</span></div><div class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">import</span> &#123;</div><div class="line">  Text,</div><div class="line">  TouchableOpacity,</div><div class="line">  StyleSheet</div><div class="line">&#125; <span class="keyword">from</span> <span class="string">'react-native'</span>;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">WriteButton</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;TouchableOpacity style=&#123;styles.writeButton&#125;&gt;</div><div class="line">        &lt;Text style=&#123;styles.writeButtonText&#125;&gt;+&lt;/Text&gt;</div><div class="line">      &lt;/TouchableOpacity&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">const</span> styles = StyleSheet.create(&#123;</div><div class="line">  <span class="attr">writeButton</span>: &#123;</div><div class="line">    <span class="attr">backgroundColor</span>: <span class="string">'#001f3f'</span>,</div><div class="line">    <span class="attr">borderColor</span>: <span class="string">'#001f3f'</span>,</div><div class="line">    <span class="attr">height</span>: <span class="number">50</span>,</div><div class="line">    <span class="attr">width</span>: <span class="number">50</span>,</div><div class="line">    <span class="attr">borderRadius</span>: <span class="number">25</span>,</div><div class="line">    <span class="attr">alignItems</span>: <span class="string">'center'</span>,</div><div class="line">    <span class="attr">justifyContent</span>: <span class="string">'center'</span>,</div><div class="line">    <span class="attr">position</span>: <span class="string">'absolute'</span>,</div><div class="line">    <span class="attr">bottom</span>: <span class="number">25</span>,</div><div class="line">    <span class="attr">right</span>: <span class="number">25</span>,</div><div class="line">    <span class="attr">shadowColor</span>: <span class="string">'#000000'</span>,</div><div class="line">    <span class="attr">shadowOpacity</span>: <span class="number">0.8</span>,</div><div class="line">    <span class="attr">shadowRadius</span>: <span class="number">2</span>,</div><div class="line">    <span class="attr">shadowOffset</span>: &#123;</div><div class="line">      <span class="attr">height</span>: <span class="number">1</span>,</div><div class="line">      <span class="attr">width</span>: <span class="number">0</span>,</div><div class="line">    &#125;,</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">writeButtonText</span>: &#123;</div><div class="line">    <span class="attr">fontSize</span>: <span class="number">25</span>,</div><div class="line">    <span class="attr">color</span>: <span class="string">'white'</span></div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>이제 시뮬레이터에서 <code>Cmd+R</code>로 화면을 리로드하면, 버튼이 나타나는 것을 확인할 수 있다.</p>
<h3 id="글쓰기-버튼에-Alert-적용"><a href="#글쓰기-버튼에-Alert-적용" class="headerlink" title="글쓰기 버튼에 Alert 적용"></a>글쓰기 버튼에 Alert 적용</h3><p>버튼은 완성되었고, 누르면 눌러지는 효과가 보이긴 하지만 아무 반응이 없으니 조금 심심하다.<br>버튼을 눌렀을때 경고창이라도 뜨게 해보자.</p>
<p>다시 <a href="https://facebook.github.io/react-native/docs/touchableopacity.html" target="_blank" rel="external">문서</a>를 보면, 버튼이 눌러질때 작동할 함수는 onPress prop으로 지정하는 것을 알 수 있다.<br>우리도 onPressButton 함수를 만들어 보자.</p>
<p>경고창 컴포넌트를 쓰기 위해 WriteButton.js 파일의 import에 Alert을 추가하고,<br>파일 맨 아래에 onPressButton 함수를 만들자.<br><figure class="highlight javascript"><figcaption><span>src/components/WriteButton.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ... 기존 코드 생략 ...</span></div><div class="line"><span class="keyword">import</span> &#123;</div><div class="line">  Text,</div><div class="line">  TouchableOpacity,</div><div class="line">  StyleSheet,</div><div class="line">  Alert</div><div class="line">&#125; <span class="keyword">from</span> <span class="string">'react-native'</span>;</div><div class="line"><span class="comment">// ... 기존 코드 생략 ...</span></div><div class="line"><span class="keyword">const</span> onPressButton = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">  Alert.alert(<span class="string">'버튼 눌렀네!?'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>그리고 TouchableOpacity에 onPress prop을 지정해서 버튼을 눌렀을때 onPressButton 함수를 호출하도록 연결시키자.<br><figure class="highlight javascript"><figcaption><span>src/components/WriteButton.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ... 기존 코드 생략 ...</span></div><div class="line">      &lt;TouchableOpacity style=&#123;styles.writeButton&#125; onPress=&#123;onPressButton&#125;&gt;</div><div class="line"><span class="comment">// ... 기존 코드 생략 ...</span></div></pre></td></tr></table></figure></p>
<p>완성된 코드는 다음과 같다.<br><figure class="highlight javascript"><figcaption><span>src/components/WriteButton.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* WriteButton Component - dumok */</span></div><div class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">import</span> &#123;</div><div class="line">  Text,</div><div class="line">  TouchableOpacity,</div><div class="line">  StyleSheet,</div><div class="line">  Alert</div><div class="line">&#125; <span class="keyword">from</span> <span class="string">'react-native'</span>;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">WriteButton</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;TouchableOpacity style=&#123;styles.writeButton&#125; onPress=&#123;onPressButton&#125;&gt;</div><div class="line">        &lt;Text style=&#123;styles.writeButtonText&#125;&gt;+&lt;/Text&gt;</div><div class="line">      &lt;/TouchableOpacity&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">const</span> styles = StyleSheet.create(&#123;</div><div class="line">  <span class="attr">writeButton</span>: &#123;</div><div class="line">    <span class="attr">backgroundColor</span>: <span class="string">'#001f3f'</span>,</div><div class="line">    <span class="attr">borderColor</span>: <span class="string">'#001f3f'</span>,</div><div class="line">    <span class="attr">height</span>: <span class="number">50</span>,</div><div class="line">    <span class="attr">width</span>: <span class="number">50</span>,</div><div class="line">    <span class="attr">borderRadius</span>: <span class="number">25</span>,</div><div class="line">    <span class="attr">alignItems</span>: <span class="string">'center'</span>,</div><div class="line">    <span class="attr">justifyContent</span>: <span class="string">'center'</span>,</div><div class="line">    <span class="attr">position</span>: <span class="string">'absolute'</span>,</div><div class="line">    <span class="attr">bottom</span>: <span class="number">25</span>,</div><div class="line">    <span class="attr">right</span>: <span class="number">25</span>,</div><div class="line">    <span class="attr">shadowColor</span>: <span class="string">'#000000'</span>,</div><div class="line">    <span class="attr">shadowOpacity</span>: <span class="number">0.8</span>,</div><div class="line">    <span class="attr">shadowRadius</span>: <span class="number">2</span>,</div><div class="line">    <span class="attr">shadowOffset</span>: &#123;</div><div class="line">      <span class="attr">height</span>: <span class="number">1</span>,</div><div class="line">      <span class="attr">width</span>: <span class="number">0</span>,</div><div class="line">    &#125;,</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">writeButtonText</span>: &#123;</div><div class="line">    <span class="attr">fontSize</span>: <span class="number">25</span>,</div><div class="line">    <span class="attr">color</span>: <span class="string">'white'</span></div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="keyword">const</span> onPressButton = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">  Alert.alert(<span class="string">'버튼 눌렀네!?'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="글쓰기-버튼-Alert-확인-android"><a href="#글쓰기-버튼-Alert-확인-android" class="headerlink" title="글쓰기 버튼 Alert 확인 (+ android)"></a>글쓰기 버튼 Alert 확인 (+ android)</h3><p>아이폰 시뮬레이터에서 <code>Cmd + R</code>로 화면을 리로드하고, + 버튼을 눌러보자. 눌렀네!? 가 뜬다.</p>
<p>안드로이드 시뮬레이터에서도 해보자.<br><code>index.android.js</code>파일을 열어서 내용을 다 지우고,<br><code>index.ios.js</code>파일 내용을 모두 복사하여 <code>index.android.js</code>로 붙여넣기 한다.<br>genymotion android 에뮬레이터를 실행하고,<br><code>react-native run-android</code> 명령어로 앱을 실행하자.</p>
<p>아이폰과 동일한(?) 화면이 나오고,<br><strong>이미지 없음</strong> <!--![android_run](0105_04_android_run.png)--><br>버튼도 잘 동작한다.<br><strong>이미지 없음</strong> <!--![android_button_press](0105_05_android_button_pressed.png)--></p>
<p>사실 아이폰과 안드로이드에는 조금 차이가 있다. 안드로이드는 버튼의 그림자 효과가 없는데, <a href="http://facebook.github.io/react-native/releases/0.40/docs/shadow-props.html" target="_blank" rel="external">react native 문서</a>를 보면 shadow prop에 ios 라벨만 붙어있다.<br>android는 지원하지 않는다는 것인데.. 그래도 누군가는 만들어 두었을테니 구글에서 찾아보는것도 좋겠다.</p>
<p>오늘은 여기까지!</p>
</div></article></div></main><footer><div class="paginator"><a href="/2017/01/14/react-native-diary-part-three/" class="prev">PREV</a><a href="/2017/01/01/react-native-diary-part-one/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'dumok';
var disqus_identifier = '2017/01/05/react-native-diary-part-two/';
var disqus_title = 'React Native 일기장 앱 개발 (1) - 글쓰기 버튼';
var disqus_url = 'http://yoursite.com/2017/01/05/react-native-diary-part-two/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//dumok.disqus.com/count.js" async></script><div class="copyright"><p>© 2017 <a href="http://yoursite.com">Dumok Nam</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/MikeCoder/hexo-theme-gandalfr" target="_blank">hexo-theme-gandalfr</a>.</p></div></footer></div><script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js" crossorigin="anonymous"></script><script src="//cdn.bootcss.com/jquery/3.1.1/jquery.js" crossorigin="anonymous"></script><script>$(document).ready(function() { $('pre').each(function(i, block) { hljs.highlightBlock(block); }); });</script></body></html>